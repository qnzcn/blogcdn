!function(e){function t(n){if(r[n])return r[n].exports;var l=r[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,t),l.l=!0,l.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"name",function(){return c}),r.d(t,"classPref",function(){return s}),r.d(t,"title",function(){return u}),r.d(t,"icon",function(){return p}),r.d(t,"settings",function(){return y});var n=r(3),l=(r.n(n),r(4)),o=r(5),a=r(15),__=wp.i18n.__,i={};i.logo=wp.element.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("image",{width:"24px",height:"24px",href:"data:image/png;base64,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 RK5CYII="}));var c="woowgallery",s=c+"-",u=__("WoowGallery","woowgallery"),p=i.logo,y={title:u,description:__("Insert a WoowGallery into your content","woowgallery"),keywords:[__("woowgallery"),__("gallery"),__("album")],attributes:l.a,supports:{align:["wide","full"],html:!1},edit:o.a,save:a.a}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=r(6),o=r.n(l),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(){n(this,e)}return a(e,null,[{key:"checkScrip",value:function(e,t){var r=window,n=r.WoowGallery;if(t&&n&&n.skins&&n.skins[t])return!0;for(var l=new URL(e).pathname,o=document.getElementsByTagName("script"),a=0;a<o.length;a+=1){var i=o[a];if(i.src){if(new URL(i.src).pathname===l)return a=o.length,!0}}return!1}},{key:"loadScript",value:function(t,r){var n=window,l=n.WoowGallery;if(!l)return void e.trace("Unable to load script - missing WoowGallery");if(!e.checkScrip(t,r)){var o=document.createElement("script");o.setAttribute("type","text/javascript"),o.src=t,o.async=!0,document.body.appendChild(o),e.trace("Plug start load Script",r||"")}l.skins||(l.skins={}),l.skins[r]=!0}},{key:"request",value:function(t,r,n,l,a){var i=new URL(t);if(n)for(var c in n)n.hasOwnProperty(c)&&i.searchParams.set(c,n[c]);var s=new o.a;s.open("GET",i,!0),s.setRequestHeader("X-WP-Nonce",r),s.onreadystatechange=function(){if(4===s.readyState){var e={};200!==s.status?e.error=s.statusText:e.data=s.responseText,l&&(e.params=l),a&&"function"===typeof a&&a(e)}},s.onerror=function(){e.trace("An error occurred while transferring the file.")};try{s.send()}catch(t){e.trace(t)}}},{key:"initBlocksUpdater",value:function(){var t=window,r=t.WoowGalleryAdmin;if(!r)return void e.trace("Error: WooGalleryAdmin is missing.");r.blocksUpdater||(r.blocks={},r.blocksUpdater=function(e){if(r.blocks)for(var t in r.blocks)if(r.blocks.hasOwnProperty(t)){var n=r.blocks[t];n.hasOwnProperty(e.action)&&n[e.action](e)}})}},{key:"trace",get:function(){return console.log}},{key:"BLOCKS_ACTION",get:function(){return{BL_A_UPDATED:"updated",BL_A_PREPARE:"prepare"}}}]),e}();t.a=i},function(e,t,r){"use strict";function n(){[l].forEach(function(e){if(e){var t=e.name,r=e.icon,n=e.settings;o("woowplugins/"+t,Object.assign({category:"common",icon:{src:r}},n))}})}Object.defineProperty(t,"__esModule",{value:!0}),t.registerBlocks=n;var l=r(0),o=wp.blocks.registerBlockType;n()},function(e,t){},function(e,t,r){"use strict";var n={galleryRawHtml:{type:"string",default:""},gallery:{type:"object",default:void 0},loading:{type:"boolean",default:!0}};t.a=n},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(1),i=r(7),c=r(8),s=r(10),u=r(13),p=r(14),y=r(0),f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),w=wp.element,d=w.Component,m=w.Fragment,__=wp.i18n.__,b=window,g=b.WoowGalleryAdmin,v=a.a.trace,h=function(e){function t(){n(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));e.selectGallery=e.selectGallery.bind(e),e.selectGalleryHandler=e.selectGalleryHandler.bind(e),e.requestGallery=e.requestGallery.bind(e),e.requestGalleryHandler=e.requestGalleryHandler.bind(e),e.editGallery=e.editGallery.bind(e),e.reloadGallery=e.reloadGallery.bind(e),e.galleryEditorWindow=void 0,e.updatedHandler=e.updatedHandler.bind(e),e.prepareNewGalleryHandler=e.prepareNewGalleryHandler.bind(e),e.actionCell=void 0,e.prepareNewGalleryId=void 0;var r=e.props.attributes;return e.initedGallery=void 0===r.gallery,e}return o(t,e),f(t,[{key:"reloadGallery",value:function(){var e=this.props.attributes,t=e.gallery;t&&this.requestGallery(t.subtype,t.id)}},{key:"createNewGallery",value:function(e){if(!g)return void v("Modal is missing");g.ModalGallery.createModal(e,void 0,y.title),this.prepareNewGalleryId=void 0,this.actionCell[a.a.BLOCKS_ACTION.BL_A_PREPARE]=this.prepareNewGalleryHandler}},{key:"prepareNewGalleryHandler",value:function(e){var t=e.id;this.prepareNewGalleryId=t,this.actionCell[a.a.BLOCKS_ACTION.BL_A_UPDATED]=this.updatedHandler}},{key:"updatedHandler",value:function(e){var t=e.id,r=e.type,n=this.props.attributes,l=n.gallery;if(!l&&this.prepareNewGalleryId&&parseInt(this.prepareNewGalleryId)===parseInt(t))return void this.requestGallery(r,t);parseInt(l.id)===parseInt(t)&&this.reloadGallery()}},{key:"editGallery",value:function(){var e=this.props.attributes,t=e.gallery;if(t){g.ModalGallery.createModal(t.subtype,t.id,y.title),this.actionCell[a.a.BLOCKS_ACTION.BL_A_UPDATED]=this.updatedHandler}}},{key:"selectGallery",value:function(){if(!g)return void v("Modal is missing");var e=g.ModalGallery,t=this.props,r=t.attributes,n=r.gallery;e.openModal("block",n?n.subtype:"woowgallery",y.title,this.selectGalleryHandler)}},{key:"selectGalleryHandler",value:function(e){e&&e.id&&(this.props.setAttributes({gallery:e}),this.requestGallery(e.subtype,e.id))}},{key:"reloadHTMLGallery",value:function(){var e=this.props.attributes,t=e.gallery;t&&this.requestGallery(t.subtype,t.id)}},{key:"requestGallery",value:function(e,t){this.props.setAttributes({loading:!0});var r=g.post_types[e].base,n=g.wpApiRoot+"wp/v2/"+r+"/"+t;a.a.request(n,g.wpApiNonce,{context:"view",_fields:"wg_shortcode, wg_data",_post_type:r},null,this.requestGalleryHandler)}},{key:"requestGalleryHandler",value:function(e){var t=this.props,r=t.attributes;if(e.error)t.setAttributes({galleryRawHtml:"Error:"+(r.gallery?r.gallery.title+" "+__("gallery is not available!","woowgallery"):e.error),gallery:void 0});else if(e.data)try{var n=JSON.parse(e.data),l=n.wg_data,o=n.wg_shortcode;l&&o&&(this.initedGallery=!0,t.setAttributes({galleryRawHtml:o,gallery:l})),this.prepareNewGalleryId=void 0}catch(e){v(e)}t.setAttributes({loading:!1})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.attributes,r=e.clientId;t.gallery?this.requestGallery(t.gallery.subtype,t.gallery.id):e.setAttributes({loading:!1}),a.a.initBlocksUpdater(),window.WoowGalleryAdmin.blocks[r]||(window.WoowGalleryAdmin.blocks[r]={},this.actionCell=window.WoowGalleryAdmin.blocks[r])}},{key:"componentWillUnmount",value:function(){var e=this.props.clientId;window.WoowGalleryAdmin.blocks&&window.WoowGalleryAdmin.blocks[e]&&delete window.WoowGalleryAdmin.blocks[e]}},{key:"render",value:function(){var e=this.props,t=e.attributes,r={editor:this};return Object.assign(r,e),wp.element.createElement(m,null,wp.element.createElement(u.a,r),wp.element.createElement(s.a,r),!t.gallery&&wp.element.createElement(i.a,r),(!this.initedGallery||t.loading)&&wp.element.createElement(c.a,{color:"#4caf50",size:"30"}),!1===t.loading&&this.initedGallery&&t.gallery&&t.galleryRawHtml&&wp.element.createElement(p.a,r))}}]),t}(d);t.a=h},function(e,t){e.exports=XMLHttpRequest},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(1),i=r(0),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),__=(a.a.trace,wp.i18n.__),s=wp.element,u=s.Component,p=s.Fragment,y=wp.components,f=y.Button,w=y.Icon,d=y.DropdownMenu,m=y.MenuGroup,b=y.MenuItem,g=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.attributes,r=e.editor,n=void 0;return""!==t.galleryRawHtml&&t.galleryRawHtml.indexOf("Error")+1&&(n=t.galleryRawHtml.split(":")[1]),wp.element.createElement(p,{key:"woowHolder"},wp.element.createElement("div",{className:e.className+" block"},wp.element.createElement("div",{className:i.classPref+"wrapper"},wp.element.createElement("div",{className:i.classPref+"header"},i.title),wp.element.createElement("div",{className:i.classPref+"content"},n&&wp.element.createElement("div",{className:i.classPref+"notic"},n),wp.element.createElement(d,{className:i.classPref+"menu-select-type",icon:wp.element.createElement(w,{icon:"admin-appearance"}),popoverProps:{position:"bottom"},toggleProps:{className:"is-button is-default is-large is-secondary","data-label":__("Create New","woowgallery")}},function(e){var t=e.onClose;return wp.element.createElement(p,null,wp.element.createElement(m,null,wp.element.createElement(b,{onClick:function(){t(),r.createNewGallery("woowgallery")}},__("Create Gallery","woowgallery")),wp.element.createElement(b,{onClick:function(){t(),r.createNewGallery("woowgallery-dynamic")}},__("Create Dynamic Gallery","woowgallery")),wp.element.createElement(b,{onClick:function(){t(),r.createNewGallery("woowgallery-album")}},__("Create Album","woowgallery"))))}),wp.element.createElement(f,{isSecondary:!0,onClick:r.selectGallery},wp.element.createElement(w,{icon:"screenoptions"}),__("Select Gallery","woowgallery"))))))}}]),t}(u);t.a=g},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(9),i=(r.n(a),function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()),c=wp.element,s=c.Component,u=c.createElement,p="pgc-rev-preloader-",y=function(e){function t(){n(this,t);for(var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments)),r=[],o=0;o<10;o+=1){var a=u("div",{key:p+"point"+o},u("div",{className:p+"point",style:{backgroundColor:e.props.color}}));r.push(a)}return e.preloader=u("div",{className:p+"spinner",style:{width:e.props.size+"px",height:e.props.size+"px"}},r),e}return o(t,e),i(t,[{key:"render",value:function(){return wp.element.createElement("div",{className:p+"view"},this.preloader)}}]),t}(s);t.a=y},function(e,t){},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(0),i=r(11),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=wp.element,u=s.Component,p=s.Fragment,y=wp.blockEditor.InspectorControls,f=wp.components,w=f.PanelBody,d=f.Button,m=f.Icon,b=f.DropdownMenu,g=f.MenuGroup,v=f.MenuItem,__=wp.i18n.__,h=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.attributes,r=e.editor,n=t.gallery;return wp.element.createElement(p,null,wp.element.createElement(y,null,n&&wp.element.createElement(p,null,wp.element.createElement(w,{title:__("Gallery Details","woowgallery")},wp.element.createElement("div",{className:a.classPref+"content"},wp.element.createElement(d,{isSecondary:!0,onClick:r.selectGallery},wp.element.createElement(m,{icon:"screenoptions"}),__("Replace Gallery","woowgallery")),wp.element.createElement(i.a,n),wp.element.createElement(d,{isPrimary:!0,onClick:r.editGallery},wp.element.createElement(m,{icon:"edit"}),__("Edit Gallery","woowgallery"))))),!n&&wp.element.createElement(p,null,wp.element.createElement(w,{title:__("Add Gallery","woowgallery")},wp.element.createElement("div",{className:a.classPref+"content inspector"},wp.element.createElement(b,{className:a.classPref+"menu-select-type",icon:wp.element.createElement(m,{icon:"plus-alt"}),popoverProps:{position:"bottom"},toggleProps:{className:"is-button is-default is-large is-secondary","data-label":__("Add Gallery","woowgallery")}},function(e){var t=e.onClose;return wp.element.createElement(p,null,wp.element.createElement(g,null,wp.element.createElement(v,{onClick:function(){t(),r.createNewGallery("woowgallery")}},__("Create Gallery","woowgallery")),wp.element.createElement(v,{onClick:function(){t(),r.createNewGallery("woowgallery-dynamic")}},__("Create Dynamic Gallery","woowgallery")),wp.element.createElement(v,{onClick:function(){t(),r.createNewGallery("woowgallery-album")}},__("Create Album","woowgallery"))),wp.element.createElement(g,null,wp.element.createElement(v,{onClick:function(){t(),r.selectGallery()}},__("Select Gallery","woowgallery"))))}))))))}}]),t}(u);t.a=h},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(12),i=(r.n(a),function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()),c=wp.element.Component,s="pgc-rev-gallery-informer-",u=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.thumb?e.thumb[0]:void 0,r=void 0!==e.count;return r&&(r="woowgallery-album"===e.subtype?wp.i18n.sprintf(wp.i18n._n("%d Gallery","%d Galleries",parseInt(e.count,10),"woowgallery"),e.count):wp.i18n.sprintf(wp.i18n._n("%d Media Item","%d Media Items",parseInt(e.count,10),"woowgallery"),e.count)),wp.element.createElement("div",{className:s+"view"},t&&wp.element.createElement("img",{src:t,alt:e.alt}),wp.element.createElement("div",{className:s+"title"},e.title),wp.element.createElement("div",{className:s+"date"},new Date(e.date).toLocaleString()),wp.element.createElement("div",{className:s+"count"},r))}}]),t}(c);t.a=u},function(e,t){},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=wp.element,c=i.Component,s=i.Fragment,__=wp.i18n.__,u=wp.components,p=u.Toolbar,y=u.ToolbarButton,f=u.Icon,w=wp.editor.AlignmentToolbar,d=wp.blockEditor.BlockControls,m=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.attributes,r=e.hasAlignmentToolbar,n=e.setAttributes,l=e.editor,o=t.contentAlign;return wp.element.createElement(s,null,wp.element.createElement(d,null,wp.element.createElement(p,{label:"WoowGallery"},r&&wp.element.createElement(w,{value:o,onChange:function(e){n({contentAlign:e})}}),wp.element.createElement(y,{className:"wg-toolbar-button",label:__("Select / Replace WoowGallery","woowgallery"),icon:wp.element.createElement(f,{icon:"screenoptions"}),onClick:l.selectGallery}),t.gallery&&wp.element.createElement(s,null,wp.element.createElement(y,{label:__("Edit Gallery","woowgallery"),icon:wp.element.createElement(f,{icon:"edit"}),onClick:l.editGallery}),wp.element.createElement(y,{label:__("Refresh","woowgallery"),icon:wp.element.createElement(f,{icon:"update"}),onClick:l.reloadGallery})))))}}]),t}(c);t.a=m},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(1),i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=wp.element,s=c.Component,u=c.RawHTML,p=c.createRef,y=(a.a.trace,window),f=y.WoowGallery,w=function(e){function t(){n(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments)),r=e.props,o=r.attributes,a=o.gallery;return e.loadSkinScript=e.loadSkinScript.bind(e),e.gallery=a,e.galleryRef=p(),e.galleryVpID=void 0,e.galleriesManager=void 0,e}return o(t,e),i(t,[{key:"componentDidMount",value:function(){if(!f)return void a.a.trace("Error: WoowGallery is missing.");var e=this.gallery;if(!e.skin||!e.skin.info||!e.skin.info.scripts)return void a.a.trace("Error: Gallery is not equipped");this.galleryRef&&this.galleryRef.current&&(this.galleryVpID=this.galleryRef.current.getElementsByClassName("woowgallery-wrapper")[0].id),f.skins&&f.skins[e.skin.slug]?(this.galleriesManager=f.skins[e.skin.slug],this.galleriesManager.searchAndInit&&this.galleriesManager.searchAndInit(this.galleryVpID)):this.loadSkinScript()}},{key:"loadSkinScript",value:function(){for(var e=this.gallery.skin.info.scripts,t=0;t<e.length;t+=1){var r=e[t];t===e.length-1?a.a.loadScript(r,this.gallery.skin.slug):a.a.loadScript(r)}}},{key:"componentWillUnmount",value:function(){this.galleriesManager&&this.galleriesManager.deleteGalleryById&&this.galleriesManager.deleteGalleryById(this.galleryVpID),delete this.galleryRef}},{key:"render",value:function(){var e=this.props,t=e.attributes,r=t.galleryRawHtml;return wp.element.createElement("div",{ref:this.galleryRef},""!==r&&wp.element.createElement(u,{key:"html",className:"woowgallery-block-raw"},r))}}]),t}(s);t.a=w},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=r(1),i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=wp.element,s=c.Component,u=c.Fragment,p=(a.a.trace,function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.attributes,r=t.gallery;return wp.element.createElement(u,null,t.gallery&&wp.element.createElement(u,null,"["+r.subtype+' id="'+r.id+'"]'))}}]),t}(s));t.a=p}]);