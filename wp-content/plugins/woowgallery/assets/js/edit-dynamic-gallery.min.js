window.wp=window.wp||{},window.WoowGalleryAdmin=window.WoowGalleryAdmin||{l10n:{}},window.WoowGalleryAdmin.mixins=window.WoowGalleryAdmin.mixins||[],window.WoowGalleryAdmin.Gallery=window.WoowGalleryAdmin.Gallery||{},window.WoowGalleryAdmin.Skin=window.WoowGalleryAdmin.Skin||{},window.WoowGalleryAdmin.Hook={hooks:{},register:function(e,t,i,s){let n=e.split(" "),o;for(let e=0;e<n.length;e++)o=n[e],this.exists(o)||(this.hooks[o]={}),this.hooks[o][t]={callback:i,context:s}},call:function(e,t,i){if(void 0!==this.hooks[e])for(let s in this.hooks[e]){if(!this.hooks[e].hasOwnProperty(s))continue;let n=this.hooks[e][s];if(i||(i=n.context),!1===n.callback.apply(i,t))break}},exists:function(e){return void 0!==this.hooks[e]},remove:function(e,t){this.exists(e)&&delete this.hooks[e][t]}},jQuery(function(e){var t=".woowgallery-tabs-nav",i=window.location.hash,s=i.replace("!","").split("/")[0];if(e(window).on("woowgallery_post_action",function(){var t=e("#post").attr("action");t&&(t=t.split("#")[0],e("#post").attr("action",t+window.location.hash))}),e(t).on("click",".nav-tab, a",function(i){i.preventDefault();var s=e(this).closest(t),n=e(s).data("container"),o=void 0!==e(this).attr("href")?e(this).attr("href"):e(this).data("tab");e(this).hasClass("woowgallery-active")||(e(s).find(".woowgallery-active").removeClass("woowgallery-active"),e(n).find("div.woowgallery-active").removeClass("woowgallery-active"),e(this).addClass("woowgallery-active"),e(n).find(o).addClass("woowgallery-active"),window.location.hash=o.split("#").join("#!"),e(window).trigger("woowgallery_post_action"),window.wgCodeEditor_custom_css&&"#woowgallery-tab-misc"===o&&window.wgCodeEditor_custom_css.codemirror.refresh())}),i&&i.indexOf("woowgallery-tab-")>=0){var n=e(s).parent(),o=e(n).data("navigation");e(o).find('a[href="'+s+'"]').trigger("click")}}),function(e,t){let i;window.WoowGalleryAdmin.mixins.push({data:function(){return{viewItem:!1,viewItemCarousel:null}},computed:{viewItemIndex:function(){return this.viewItem?t.findIndex(this.gallery_paged,{id:this.viewItem.id}):-1},viewItemNext:function(){let e=this.viewItemIndex;return!(e<0||e+1>=this.gallery_paged.length)&&this.gallery_paged[e+1]},viewItemPrev:function(){let e=this.viewItemIndex;return!(e<0||e-1<0)&&this.gallery_paged[e-1]}},watch:{viewItem:function(t,i){t?(i||e("body").addClass("modal-open"),this.$nextTick(()=>{this.viewItemCarouselInit()})):(e("body").removeClass("modal-open"),this.viewItemCarouselDestroy())}},beforeDestroy(){this.$nextTick(()=>{this.viewItemCarouselDestroy()})},methods:{viewItemSet:function(e,i){if(!e||!1===["instagram"].indexOf(e.type))return!1;i&&i.preventDefault(),this.viewItem=t.find(this.gallery_paged,t=>t.id===e.id)},viewItemClose:function(){this.viewItem=!1,this.viewItemCarouselDestroy()},viewItemCarouselInit:function(){this.viewItemCarouselDestroy(),this.$nextTick(()=>{const e=document.getElementById("carousel-"+this.viewItem.id);if(e){var t=this;this.viewItemCarousel=new Swiper(e,{cssMode:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},on:{init:function(){setTimeout(()=>{t.viewItemCarouselVideoPlayPause(this.activeIndex)},0)},slideChange:function(){t.viewItemCarouselVideoPlayPause(this.activeIndex)}}})}}),this.$forceUpdate()},viewItemCarouselVideoPlayPause:function(t){if(!this.viewItemCarousel)return;this.viewItemVideo&&this.viewItemVideo.pause(),this.viewItemVideo=null;let i=e(".swiper-slide",this.viewItemCarousel.$el).eq(t).find("video");i&&i.length&&(i[0].play(),this.viewItemVideo=i[0])},viewItemCarouselDestroy:function(){this.viewItemCarousel&&(this.viewItemCarousel.destroy&&this.viewItemCarousel.destroy(),this.viewItemCarousel=null)}}})}(jQuery,_),function(e,t){let i;window.WoowGalleryAdmin.mixins.push({methods:{setDefaults:function(t,i){const s=(t,i)=>(i=i||{},e.each(t,function(e,t){"object"==typeof t&&(void 0!==t.default?i[e]=t.default:s(t,i))}),i);return s(t,i)},getFieldRowClasses:function(e){let i={disabled:this.fieldDisabled(e),readonly:this.fieldReadonly(e),required:this.fieldRequired(e),"premium-field":this.fieldPremium(e)};return t.isArray(e.styleClasses)?t.each(e.styleClasses,e=>{i[e]=!0}):t.isString(e.styleClasses)&&(i[e.styleClasses]=!0),i["field-"+e.tag]=!0,i},getFieldRowStyles:function(e){let i={};return t.isObject(e.styles)&&(i=e.styles),i},fieldTypeHasLabel:function(e){let t=e.type||e.tag;switch(e.attr&&e.attr.type&&(t=e.attr.type),t){case"button":case"submit":case"reset":return!1;default:return!0}},fieldDisabled:function(e){return!(!e.prop||!e.prop.disabled)&&e.prop.disabled},fieldRequired:function(e){return!(!e.prop||!e.prop.required)&&e.prop.required},fieldPremium:function(e){return!!e.premium},fieldVisible:function(e){if(!e.visible)return!0;let t,i;try{i=(t=compileExpression(e.visible))(this.model)}catch(e){i=!0}return i},fieldReadonly:function(e){return!(!e.prop||!e.prop.readonly)&&e.prop.readonly},fieldHint:function(e){return e.hint},getFieldTagType:function(e){return"field-"+e.tag}}})}(jQuery,_),function(e){let t,i={};t={props:["skin","schema","id","disabled","options"],data:function(){return{}},computed:{value:{get:function(){let e=null;if(this.skin)return void 0!==this.$root.model&&this.id&&(e=this.$root.model[this.id]),null===e&&(e=this.schema.default),this.formatValueToField(e)},set:function(e){this.skin&&(e=this.formatValueToModel(e),this.id&&(this.$root.model[this.id]=e))}}},methods:{getFieldName:function(){let e=this.options&&this.options.fieldNameTemplate?this.options.fieldNameTemplate:"{name}",t;return this.schema.attr&&this.schema.attr.name&&(t=this.schema.attr.name),t=t||this.schema.name||this.id,t=e.replace("{name}",t)},getFieldType:function(e){let t;return this.schema.attr&&this.schema.attr.type&&(t=this.schema.attr.type),t=t||this.schema.type||"text",e&&"color"===t?"text":t},getFieldID:function(){let e=this.options&&this.options.fieldIdPrefix?this.options.fieldIdPrefix:"",t;return this.schema.attr&&this.schema.attr.id&&(t=this.schema.attr.id),e+(t=t||this.schema.id||this.id)},getFieldClasses:function(){let e=["field-"+this.id];return this.schema.attr&&this.schema.attr.class&&(_.isArray(this.schema.attr.class)?_.union(e,this.schema.attr.class):e.push(this.schema.attr.class)),e},getFieldAttributes:function(){let t={},i=this.getFieldType();if(i&&"text"!==i&&(t["data-type"]=i),this.schema.attr&&(t=e.extend(t,this.schema.attr)),this.schema.props){let e=0,i=this.schema.props.length,s;for(;e<i;e++)t[s=this.schema.props[e]]=!0}return t},formatValueToField:function(e){return e},formatValueToModel:function(e){return e}}},i["field-input"]=Vue.component("field-input",{mixins:[t],template:'<div class="wrapper">\n    <input class="form-control"\n           :class="getFieldClasses()"\n           :id="getFieldID()"\n           :type="getFieldType(true)"\n           :name="getFieldName()"\n           v-model="value"\n           v-bind="getFieldAttributes()"\n    >\n    <span class="helper" v-if="getFieldType() === \'color\' || getFieldType() === \'range\'">{{ value }}</span>\n</div>',data:function(){return{picker:null}},watch:{disabled:function(t){"color"===this.getFieldType()&&e.fn.spectrum&&(t?this.picker.spectrum("disable"):this.picker.spectrum("enable"))}},mounted:function(){this.$nextTick(function(){"color"===this.getFieldType()&&(e.fn.spectrum?this.spectrumInit():console.warn("Spectrum color library is missing."))})},updated:function(){this.$nextTick(function(){"color"===this.getFieldType()&&e.fn.spectrum&&this.picker&&this.picker.spectrum("set",this.value)})},beforeDestroy:function(){this.picker&&this.picker.spectrum("destroy")},methods:{spectrumInit:function(){let t=this;this.picker&&this.picker.spectrum("destroy"),this.picker=e('input[data-type="color"]',this.$el).spectrum(_.defaults(this.schema.options||{},{color:this.value,showInput:!0,showAlpha:!0,disabled:this.disabled,allowEmpty:!1,preferredFormat:"rgb",change:function(e){t.value=e?e.toString():null}}))},formatValueToModel:function(e){if(null!==e){let t;switch(this.getFieldType()){case"number":return Number(e);case"range":return Number(e)}}return e}}}),i["field-checkbox"]=Vue.component("field-checkbox",{mixins:[t],template:'<div class="wrapper">\n    <span class="wg-toggle" :class="{\'is-checked\': !!value}">\n        <input type="hidden" :name="getFieldName()" value="0" />\n        <input type="checkbox" :id="getFieldID()" :name="getFieldName()" :class="getFieldClasses()" v-bind="getFieldAttributes()" value="1" v-model="value" true-value="1" false-value="0">\n        <span class="wg-toggle__track"></span>\n        <span class="wg-toggle__thumb"></span>\n    </span>\n</div>',methods:{formatValueToField:function(e){return Number(e)},formatValueToModel:function(e){return null!==e?Number(e):e}}}),i["field-select"]=Vue.component("field-select",{mixins:[t],template:'<div class="wrapper">\n    <select class="form-control"\n           v-model="value"\n           :class="getFieldClasses()"\n           :id="getFieldID()"\n           :name="getFieldName()"\n           v-bind="getFieldAttributes()"\n    >\n         <option v-for="item in items" :value="getItemValue(item)" :disabled="isItemDisabled(item)">{{ getItemName(item) }}</option>\n    </select>\n</div>',data:function(){return{items:this.schema.options}},methods:{getItemValue:function(e){if(_.isObject(e)){if(void 0!==e.value)return e.value;throw"`value` is not defined"}return e},getItemName:function(e){if(_.isObject(e)){if(void 0!==e.name)return e.name;throw"`name` is not defined"}return e},isItemDisabled:function(e){return!!_.isObject(e)&&(void 0!==e.premium&&(e.premium&&!config.premium))}}}),window.WoowGalleryAdmin.vueFields=i}(jQuery),function(e){let t=document.getElementById("woowgallery-lightbox-config");if(!t||!window.woowgallery_lightbox)return;let i=window.WoowGalleryAdmin,s=new Vue({el:t,mixins:i.mixins,components:i.vueFields,data:{options:{fieldNameTemplate:"_woowgallery_lightbox[{name}]"},premium:!1,lightbox:"",model:{},defaults:{},schema:{},activeTab:""},computed:{isSettingsDefault:function(){let e=_.pick(this.model,(e,t,i)=>this.defaults.hasOwnProperty(t));return JSON.stringify(e)===JSON.stringify(this.defaults)},isSettingsChanged:function(){let t,i;return JSON.stringify(this.model)!==JSON.stringify(e.extend({},this.defaults,window.woowgallery_lightbox[this.lightbox].model))}},watch:{lightbox:function(t){if(!t)return this.schema={},this.activeTab="",this.defaults={},void(this.model={});this.schema=e.extend({},window.woowgallery_lightbox[t].schema),this.activeTab=_.keys(this.schema)[0],this.defaults=this.setDefaults(this.schema),this.model=e.extend({},this.defaults,window.woowgallery_lightbox[t].model)}},mounted:function(){this.premium=i.status&&("premium"===i.status||"trial"===i.status),i.l10n.selected_lightbox||""===i.l10n.selected_lightbox?this.lightbox=i.l10n.selected_lightbox:this.lightbox=i.l10n.default_lightbox},methods:{switchTab:function(e){this.activeTab=e},resetLightboxSettingsChanges:function(){this.model=e.extend({},this.defaults,window.woowgallery_lightbox[this.skin].model)},resetLightboxSettings:function(){this.model=e.extend({},this.defaults)}}});i.Lightbox=s}(jQuery),function(e){let t=document.getElementById("woowgallery-skin-config");if(!t||!window.woowgallery_skin)return;let i=window.WoowGalleryAdmin,s;Vue.use(Toasted);let n=new Vue({el:t,mixins:i.mixins,components:i.vueFields,data:{options:{fieldNameTemplate:"_woowgallery_skin[{name}]"},premium:!1,skin:"",default_skin:"",preset:"default",presets:["default"],skin_info:"",model:{},defaults:{},schema:{},activeTab:"",new_preset:!1,new_preset_name:"",activity:!1},computed:{isSettingsDefault:function(){let e=_.pick(this.model,(e,t,i)=>this.defaults.hasOwnProperty(t));return JSON.stringify(e)===JSON.stringify(this.defaults)},isSettingsChanged:function(){let t=this.activity,i,s;return JSON.stringify(this.model)!==JSON.stringify(e.extend({},this.defaults,window.woowgallery_skin[this.skin].model[this.preset]))}},watch:{skin:function(t){this.schema=e.extend({},window.woowgallery_skin[t].schema),this.skin_info=e.extend({},window.woowgallery_skin[t].info),this.activeTab=_.keys(this.schema)[0],this.defaults=this.setDefaults(this.schema),this.updatePresets(t),-1===this.presets.indexOf(this.preset)&&(this.preset="default"),this.model=e.extend({},this.defaults,window.woowgallery_skin[t].model[this.preset]),this.fakeActivity(400)},preset:function(t){this.model=e.extend({},this.defaults,window.woowgallery_skin[this.skin].model[t]),this.fakeActivity(400)},new_preset_name:function(e){this.new_preset_name=e.replace(/[&\/\\#,+()\[\]~%.'":;?<>{}^=|`]/g,"")}},mounted:function(){let e;if(this.premium=i.status&&("premium"===i.status||"trial"===i.status),this.default_skin=i.l10n.default_skin,e=i.l10n.selected_skin||""===i.l10n.selected_skin?i.l10n.selected_skin:i.l10n.default_skin){let t=e.split(": ");this.skin=t[0],t[1]?this.preset=t[1]:this.preset="default"}},methods:{fakeActivity:function(e){this.activity=!0,s&&clearTimeout(s),s=setTimeout(()=>{n.activity=!1,s=null},e)},switchTab:function(e){this.activeTab=e},loadPreset:function(t){this.fakeActivity(120),this.model=e.extend({},this.defaults,window.woowgallery_skin[this.skin].model[t.target.value]),t.target.value="_custom"},updatePresets:function(e){this.presets=Object.keys(window.woowgallery_skin[e].model),this.new_preset=!1,this.new_preset_name=""},saveSkinSettings:function(){this.activity=!0;let t=this.skin,s=this.new_preset?this.new_preset_name:this.preset,n=this.model,o=this.defaults,a={action:"woowgallery_save_skin_data",_nonce_woowgallery_skin_settings_save:i.l10n._nonce_woowgallery_skin_settings_save,skin:t,preset:s,data:JSON.stringify(n)};if("default"===s&&this.isSettingsDefault&&(a.default_reset=!0),!s)return this.$toasted.error(i.l10n.fill_preset_name,{duration:2e3}),this.activity=!1,void e("#woowskin_preset").focus();e.post(ajaxurl,a,i=>{i&&i.success?(window.woowgallery_skin[t].model[s]=e.extend({},o,n),this.updatePresets(t),this.skin=t,this.preset=s,this.$toasted.success(i.data,{duration:2e3}),this.updateSkinsListSetting()):i&&i.data?this.$toasted.error(i.data,{duration:2e3}):this.$toasted.error(":(",{duration:2e3})},"json").always(()=>{this.activity=!1})},deletePreset:function(){this.activity=!0;let t=this.skin,s=this.preset,n={action:"woowgallery_delete_skin_preset",_nonce_woowgallery_skin_settings_save:i.l10n._nonce_woowgallery_skin_settings_save,skin:t,preset:s},o;if("default"===s)return this.$toasted.error(i.l10n.delete_default_preset_error,{duration:2e3}),void(this.activity=!1);e.post(ajaxurl,n,e=>{e&&e.success?(delete window.woowgallery_skin[t].model[s],this.updatePresets(t),this.skin=t,this.preset="default",this.$toasted.success(e.data,{duration:2e3}),this.updateSkinsListSetting()):e&&e.data?this.$toasted.error(e.data,{duration:2e3}):this.$toasted.error(":(",{duration:2e3})},"json").always(()=>{this.activity=!1})},resetSkinSettingsChanges:function(){this.model=e.extend({},this.defaults,window.woowgallery_skin[this.skin].model[this.preset])},resetSkinSettings:function(){this.model=e.extend({},this.defaults)},updateSkinsListSetting:function(){let t=e("select.skins-presets-list");if(t.length){let i="";e.each(window.woowgallery_skin,(t,s)=>{i+='<option value="'+t+'">'+s.info.name+"</option>",e.each(s.model,(e,n)=>{"default"!==e&&(i+='<option value="'+t+": "+e+'">'+s.info.name+": "+e+"</option>")})}),t.each((t,s)=>{let n=e(s),o=n.val();n.find("option").not('[value=""]').remove(),n.append(i),n.find('[value="'+o+'"]').length?n.val(o):n.val(this.default_skin)})}}}});i.Skin=n}(jQuery),function(e){let t=window.WoowGalleryAdmin;t.mixins.push({filters:{formatTags:function(t){return t?(_.isString(t)&&(t=t.split(",")),_.isArray(t)&&_.size(t)?(t=e.map(t,t=>e.trim(t))).sort((e,t)=>e.localeCompare(t,void 0,{sensitivity:"base"})).join(", "):""):""}}}),e(function(){let i=e(".woowgallery-choose-skin"),s=e("#woowgallery-skin-select"),n;i.on("click","button",function(t){t.preventDefault(),i.hasClass("closed")?(i.removeClass("closed"),s.css("display","none").removeClass("closed").slideDown()):(i.addClass("closed"),s.slideUp(()=>{e(this).addClass("closed")}))}),s.on("click","label",function(){n?clearTimeout(n):i.addClass("activity"),n=setTimeout(()=>{t.Skin.skin=e("input:checked",this).val(),i.removeClass("activity"),n=null},300)});var o=window.opener||window.top;if(o&&"object"==typeof o.WoowGalleryAdmin&&"function"==typeof o.WoowGalleryAdmin.blocksUpdater){const t=parseInt(e("#post_ID").val()),i=e("#post_type").val();e("#message").length&&o.WoowGalleryAdmin.blocksUpdater({action:"updated",id:t,type:i}),e('#publish[name="publish"]').on("click",function(){o.WoowGalleryAdmin.blocksUpdater({action:"prepare",id:t,type:i})})}})}(jQuery),function(e,t){let i=window.WoowGalleryAdmin,s=e("#activity"),n=null;Vue.component("vue-multiselect",window.VueMultiselect.default);let o=new Vue({el:"#woowgallery-dynamic-query",mixins:i.mixins,data:{gallery:null,page:1,per_page:i.l10n.per_page,error:"",query_type:null,woowgallery_type:"dynamic",hints:!0,loading:!1,wp_taxonomy_terms_options:{loading:!1,data:[]},wp:{post_type:null,post_author:[],order:"DESC",orderby:"date",terms_relation:"IN",taxonomy_terms:[],limit:50,offset:0,ignore_sticky:!0,post_status:[],has_password:"",post_password:"",meta_key:"",meta_compare:"EXISTS",meta_value:"",post_parent:"",post__not_in:""},instagram:{sources:[],sorting:"date",limit_type:"all",limit:12},flagallery_source_options:{loading:!1,data:[]},flagallery:{source:null,order:"ASC",orderby:"sortorder"}},computed:{pages:function(){return this.per_page?Math.ceil(this.gallery.post_count/this.per_page):0},gallery_paged:function(){return this.gallery&&this.per_page?this.gallery.posts.slice((this.page-1)*this.per_page,this.page*this.per_page):[]},wp_json:function(){if("wp"!==this.query_type)return[];let e=JSON.parse(JSON.stringify(this.wp));return e.post__not_in=t.uniq(t.filter(t.map(e.post__not_in.split(","),e=>parseInt(e.trim(),10)))).join(","),e.query_type=this.query_type,e},wp_taxterms_list:function(){return t.flatten(t.pluck(this.wp_taxonomy_terms_options.data,"terms"))},instagram_json:function(){if("instagram"!==this.query_type)return[];let e=JSON.parse(JSON.stringify(this.instagram));return e.query_type=this.query_type,e},flagallery_json:function(){if("flagallery"!==this.query_type)return[];let e=JSON.parse(JSON.stringify(this.flagallery));return e.query_type=this.query_type,e}},watch:{query_type:function(t,i){null!==i&&(this.gallery=null,this.error=""),this[t+"_json"]&&e("#woowgallery-data").val(JSON.stringify(this[t+"_json"])),"flagallery"===t&&this.flagallery_refreshSource()},wp_json:function(t,i){"wp"===this.query_type&&null!==i.post_type&&(t.terms_relation===i.terms_relation&&JSON.stringify(t.post_type)===JSON.stringify(i.post_type)||this.wp_refreshTaxonomyTerms(),e("#woowgallery-data").val(JSON.stringify(t)))},instagram_json:function(t,i){"instagram"===this.query_type&&e("#woowgallery-data").val(JSON.stringify(t))},flagallery_json:function(t,i){"flagallery"===this.query_type&&e("#woowgallery-data").val(JSON.stringify(t))},loading:function(e){s.toggleClass("activity",e)}},filters:{},mounted:function(){let t=e("#woowgallery-data").val(),i=t?JSON.parse(t):{};this.query_type=i.query_type||"wp","wp"===i.query_type?(this.wp_taxonomy_terms_options.data=JSON.parse(window.wp_taxonomy_terms_options),this.wp=e.extend({},this.wp,i)):"instagram"===i.query_type?this.instagram=e.extend({},this.instagram,i):"flagallery"===i.query_type&&(this.flagallery=e.extend({},this.flagallery,i));let s=window.woowgallery_content.length;s&&(this.gallery={post_count:s,query:t,posts:window.woowgallery_content}),this.$nextTick(()=>{let t=this.query_type;e("#woowgallery-data").val(JSON.stringify(this[t+"_json"]))})},methods:{wp_refreshTaxonomyTerms:function(){this.wp_taxonomy_terms_options.loading=!0,e.getJSON(ajaxurl,{action:"woowgallery_dynamic_refresh_taxonomy_terms",post_type:t.pluck(this.wp.post_type,"name"),terms_relation:this.wp.terms_relation},e=>{this.wp_taxonomy_terms_options.loading=!1,this.wp_taxonomy_terms_options.data=e.data})},wp_taxtermMissed:function(e){return!t.some(this.wp_taxterms_list,{id:e})},wp_fetchQuery:function(){const t=e("#woowgallery-data").val(),i=e("#post_ID").val();n&&n.abort(),this.loading=!0,n=e.ajax({url:ajaxurl,method:"GET",data:{action:"woowgallery_dynamic_fetch_query",gallery_id:i,json:t}}).done((e,t,i)=>{n=null,e.success?(this.gallery=e.data,e.data.errors&&e.data.errors.length?(console.log(e.data.errors),this.error=e.data.errors[0]):this.error=""):(console.log(e),this.gallery=null,e.data&&(this.error=e.data)),this.loading=!1})},addSource:function(e){this.instagram.sources.push(e)},flagallery_refreshSource:function(){this.flagallery_source_options.loading=!0,e.getJSON(ajaxurl,{action:"woowgallery_dynamic_refresh_flagallery_source"},e=>{this.flagallery_source_options.loading=!1,this.flagallery_source_options.data=e.data})},flagallerySourceSelect:function(e){e&&(this.flagallery.source={gid:e.gid,title:e.title})},itemOriginalSrc:function(e){if(e.original)return e.original;if("attachment"===e.type){let t,i=wp.media.attachment(e.id).attributes;if(i&&i.url)return i.url}return e.src?e.src:""},itemThumbnail:function(e){return e.thumb&&e.thumb[0]?e.thumb[0]:i.l10n.icons_url+"/default.png"},itemImage:function(e){return"instagram"===e.type&&e._original&&e._original[0]?e._original:e.image&&e.image[0]?e.image:[i.l10n.icons_url+"/default.png",300,300]},removeItem:function(i,s){if(s){s.preventDefault();let t=e(s.target).attr("data-confirm");if(t&&!confirm(t.toString()))return}this.wp.post__not_in=t.filter(t.union(t.map(this.wp.post__not_in.split(","),e=>parseInt(e.trim(),10)),[i])).join(","),this.gallery.posts=e.grep(this.gallery.posts,e=>e.id!==i)},subtypeIcon:function(e){if("post"===e.type)return i.post_types[e.subtype]?i.post_types[e.subtype].icon_html:`<span class="wg-posttype-icon dashicons dashicons-no"><b>${e.subtype}</b></span>`;if("attachment"===e.type&&"image"!==e.subtype){let t;switch(e.subtype){case"audio":case"video":t="format-"+e.subtype;break;default:t="paperclip";break}return`<span class="wg-posttype-icon dashicons dashicons-${t}"></span>`}return""},captionHashtags:function(e){return e.replace(/(?<!&)(\#[\-\w]+)/gi,'<span class="hashtag">$1</span>')}}});i.Gallery=o}(jQuery,_);
//# sourceMappingURL=edit-dynamic-gallery.min.js.map